import os
from random import *
import pandas as pd
import shutil

def createList(r1, r2):
    return [item for item in range(r1, r2+1)]

rs = Random()
rs.seed(1)

trainlabels = pd.read_csv('D:\\TrainData\\trainLabels.csv')
print(trainlabels)
fids = []
opd = pd.DataFrame()
for clabel in range(1, 10):
    mids = trainlabels[trainlabels.Class == clabel]
    mids = mids.reset_index(drop=True)
    l = createList(0,len(mids) - 1)
    if clabel == 5:
        rchoice = rs.sample(l,40)
    else:
        rchoice = rs.sample(l, 100)

    rids = [mids.loc[i].Id for i in rchoice]
    fids.extend(rids)
    opd = opd.append(mids.loc[rchoice])

opd = opd.reset_index(drop=True)
print(opd)
print(fids)
opd.to_csv('D:\\TrainData\\subtrainLabels.csv', encoding='utf-8', index=False)

sbase = 'D:\\TrainData\\asm\\'
tbase = 'D:\\TrainData\\subtrain\\'

for fid in fids:
    fname = fid + '.asm'
    cspath = sbase + fname
    ctpath = tbase + fname
    shutil.copy(cspath,ctpath)
